---
title: vi&vim的使用
date: 2021-11-27 15:03:00
tags: 
    - vim
---



每天总得干点啥吧！Day02

# vim编辑器的使用

## vim 的三种模式

![img](https://www.runoob.com/wp-content/uploads/2014/07/vim-vi-workmodel.png)

1. 普通模式：打开vim初始界面。

   在该界面下，只能通过快捷键修改文件，比如复制、粘贴、删除、查找等等

2. 命令模式

   在普通模式输入`：`，注意这里英文模式下的冒号，从而进入命令模式。

3. 编辑模式

   在普通模式输入`i`,在当前位置插入

   在普通模式输入`I`,光标移动到行首插入

   在普通模式输入`a`,附加

   在普通模式输入`A`,光标移动到行尾附加

   在普通模式输入`o`,在目前光标所在的下一行处输入新的一行

   在普通模式输入`O`,在目前光标所在的上一行处输入新的一行！(常用)


![img](https://www.runoob.com/wp-content/uploads/2015/10/vi-vim-cheat-sheet-sch.gif)

## 常用的快捷键（在普通模式下使用）

### 光标移动

- h：光标左移一个字符
- j： 光标下移一个字符
- k： 光标上移一个字符
- ；：光标右移一个字符
- ctrl + f ： page down
- ctrl + d： page up
- G：移动到文档的最后一行
- gg：移动到文档的第一行
- `<number>G`或`<number>gg` 移动到number行
- `<number>enter` 光标向下移动number行

### 搜索

- /word ：向光标之下寻找一个名称为word的字符串，并将光标移动到搜索到的字符串的位置

- n：重复上一个搜索动作
- N：重复上一个搜索动作（反方向）

### 替换

- `:n1,n2s/word1,word2/g` : 在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2
- `:%s/word1/word2/g` ： 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 
- `:%s/word1/word2/gc` : 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代

### 删除，复制和粘贴

- x：删除当前字符（光标为小方块）
- X：删除前一个字符（光标为小方块）
- dd：删除光标所在的一整行
- yy：复制光标所在行
- p： 将剪切板内容粘贴在光标所在行的下一行
- P：将剪切板内容粘贴在光标所在行的上一行
- u：撤销动作，类似于ctrl + z
- .：重复前一个动作

## 常用的命令

### 储存、退出

- w : 将编辑的数据写入到磁盘
- q : 推出vim
- wq常结合使用-保存退出
- q! : 退出但不保存修改
- ZZ : 保存退出
- ZQ : 不保存，强制退出
- `w<filename>`  : 另存为

### vim环境的变更

- set nu：设置行号
- set nonu：取消行号

## Q1：对选中文本进行复制、粘贴

1. 在普通模式按v进入选择模式
2. 利用光标移动选择要复制的内容
3. 按y进行复制
4. 将光标移动到需要粘贴的位置
5. 按p粘贴



【参考文件】

1. [shadow_zed](https://blog.csdn.net/shadow_zed/article/details/91408304)
2. [菜鸟教程](https://www.runoob.com/linux/linux-vim.html)